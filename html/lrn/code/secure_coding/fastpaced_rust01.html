<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>fastpaced_rust01</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="https://razafy.com/css/styling.css" />
</head>
<body>
<nav id="TOC">
<ul>
<li><a href="#the-rust-programming-language-level-01-building-a-solid-foundation">The Rust programming language Level 01: Building a solid foundation</a><ul>
<li><a href="#install-rust">Install Rust</a><ul>
<li><a href="#rustc-and-cargo">rustc and cargo</a></li>
</ul></li>
<li><a href="#first-program-hello-world">First program: Hello World</a><ul>
<li><a href="#create-an-executable-bin-with-rustc">Create an executable (bin) with <code>rustc</code></a></li>
<li><a href="#create-an-executable-bin-with-cargo">Create an executable (bin) with <code>cargo</code></a></li>
<li><a href="#create-a-rust-library">create a Rust library</a></li>
</ul></li>
<li><a href="#programming-is-about-data-and-its-manupulation">Programming is about Data and its manupulation</a><ul>
<li><a href="#rust-built-in-types"><span>Rust built-in types</span></a></li>
<li><a href="#variables-are-immutable-by-default-mutable-explicitly">Variables are immutable by default, mutable explicitly</a></li>
<li><a href="#functions-in-rust"><span>Functions in Rust</span></a></li>
</ul></li>
<li><a href="#a-little-about-computer-memory-stack-and-heap">A little about Computer memory, stack and heap</a><ul>
<li><a href="#the-stack"><span>The Stack</span></a></li>
<li><a href="#stack-and-heap-memory"><span>Stack and Heap Memory</span></a></li>
</ul></li>
<li><a href="#str-and-string-and-slice">str and String and Slice</a><ul>
<li><a href="#str-allocation-on-the-stack">Str: allocation on the Stack</a></li>
<li><a href="#string-allocation-on-the-heap">String: Allocation on the heap</a></li>
<li><a href="#taking-a-peek-at-the-binary">Taking a peek at the binary</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
<p>⇦ <a href="../../../../index.html">razafy.com</a> - <a href="../../index.html">lerina</a> - <a href="./index.html">code</a></p>
<h1 id="the-rust-programming-language-level-01-building-a-solid-foundation">The Rust programming language Level 01: Building a solid foundation</h1>
<ul>
<li><p>Rust is a multi-paradigm system programming language. You can write it in a functional way. You can write in in an object-oriented way. It is neither functional nor OOP. its a bit of both worlds.</p></li>
<li><p>Systems programming is used for system software. System software provides a platform for other software. Rust is a language used for systems programming. It provides high performance and easy access to the underlying hardware.</p></li>
<li><p>Rust is a modern language that focuses on safety. Regular usage of Rust is in Safe rust mode by default. In this mode you will <em>never</em> have to worry about type-safety or memory safety. You will never endure a dangling pointer, a use-after-free, or any other kind of <em>Undefined</em> Behavior. <a href="./">source Rustonomicon</a></p></li>
<li><p>Rust makes concurrency safe.</p></li>
</ul>
<h2 id="install-rust">Install Rust</h2>
<p>On <a href="https://doc.rust-lang.org/stable/book/ch01-01-installation.html#installing-rustup-on-linux-or-macos">linux/mac</a></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" title="1">$ <span class="ex">curl</span> --proto <span class="st">&#39;=https&#39;</span> --tlsv1.2 https://sh.rustup.rs -sSf <span class="kw">|</span> <span class="fu">sh</span></a></code></pre></div>
<p>NOTE:<br />
Installing Rust on Windows is more involved. See: <a href="https://doc.rust-lang.org/stable/book/ch01-01-installation.html#installing-rustup-on-windows">Installing rustup on Windows</a></p>
<p>Most people will go for the easiest way to acquire the build tools by installing <a href="https://visualstudio.microsoft.com/visual-cpp-build-tools/">VS code</a> and the pluggins for Rust.</p>
<p><a href="https://www.rust-lang.org/tools/install">Rust install page at rust-lang.org</a></p>
<h3 id="rustc-and-cargo">rustc and cargo</h3>
<p><a href="https://doc.rust-lang.org/stable/book/ch01-02-hello-world.html">rustc is Rust’s Compiler</a>.</p>
<p><a href="https://doc.rust-lang.org/stable/book/ch01-03-hello-cargo.html">Cargo</a> is Rust’s build system and package manager that handles metadata and invokes rustc for you.</p>
<p>Modern projects depend on external packages and libraries. A package manager handles those packages and the dependencies they may rely upon.</p>
<h2 id="first-program-hello-world">First program: Hello World</h2>
<h3 id="create-an-executable-bin-with-rustc">Create an executable (bin) with <code>rustc</code></h3>
<p>Create directory</p>
<blockquote>
<p>mkdir hello_world</p>
</blockquote>
<p>Create program entry file</p>
<blockquote>
<p>vim main.rs</p>
</blockquote>
<p>Edit file</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode rust"><code class="sourceCode rust"><a class="sourceLine" id="cb2-1" title="1"><span class="co">// main.rs</span></a>
<a class="sourceLine" id="cb2-2" title="2"></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="co">// program entry function</span></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="kw">fn</span> main() <span class="op">{</span></a>
<a class="sourceLine" id="cb2-5" title="5">    <span class="co">// by convention use 4 space indentations</span></a>
<a class="sourceLine" id="cb2-6" title="6"><span class="op">}</span></a></code></pre></div>
<p><code>fn</code> is the keyword to declare a function in Rust</p>
<p>Print hello world</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode rust"><code class="sourceCode rust"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">fn</span> main() <span class="op">{</span></a>
<a class="sourceLine" id="cb3-2" title="2">    <span class="pp">println!</span>(<span class="st">&quot;Hello, world!);</span></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="st">}</span></a></code></pre></div>
<p>Compile the program</p>
<blockquote>
<p>rustc main.rs</p>
</blockquote>
<p>Run the program</p>
<blockquote>
<p>./main</p>
</blockquote>
<h3 id="create-an-executable-bin-with-cargo">Create an executable (bin) with <code>cargo</code></h3>
<ol type="1">
<li>Create a new project</li>
</ol>
<blockquote>
<p>cargo new hello_world</p>
</blockquote>
<pre><code>hello_world/
├── Cargo.toml
└── src
    └── main.rs</code></pre>
<p>This generates a main.rs file with a main function as starting point.</p>
<p>It is used to create stand alone projects aka binaries (bin)</p>
<ol start="2" type="1">
<li>Edit code (hello world is generated for you :-) )</li>
</ol>
<blockquote>
<p>cd hello_world vim src/main.rs</p>
</blockquote>
<p>Change the message to be pronted out. For example</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode rust"><code class="sourceCode rust"><a class="sourceLine" id="cb5-1" title="1">    <span class="pp">println!</span>(<span class="st">&quot;Hello,  Rust is fun!&quot;</span>);</a></code></pre></div>
<ol start="3" type="1">
<li>Compile</li>
</ol>
<blockquote>
<p>cargo build</p>
</blockquote>
<ol start="4" type="1">
<li>Run</li>
</ol>
<blockquote>
<p>cargo run</p>
</blockquote>
<ol start="5" type="1">
<li><a href="https://doc.rust-lang.org/cargo/guide/index.html">more about cargo</a></li>
</ol>
<ul>
<li><a href="https://doc.rust-lang.org/cargo/commands/cargo-check.html">cargo check</a></li>
<li><a href="https://doc.rust-lang.org/cargo/commands/cargo-test.html">cargo test</a></li>
<li><a href="https://doc.rust-lang.org/cargo/commands/cargo-clean.html">cargo clean</a></li>
</ul>
<h3 id="create-a-rust-library">create a Rust library</h3>
<blockquote>
<p>cargo new my_lib –lib</p>
</blockquote>
<p>This generates a lib.rs file It is used to create a library to be consumed by some other project</p>
<p>We ll see later why and how to use libraries</p>
<h2 id="programming-is-about-data-and-its-manupulation">Programming is about Data and its manupulation</h2>
<p>Besides it value, all Data has a <strong>type</strong> whether it is explicit or not.</p>
<h3 id="rust-built-in-types"><a href="https://doc.rust-lang.org/stable/book/ch03-02-data-types.html">Rust built-in types</a></h3>
<blockquote>
<p>Rust is a statically typed language, which means that it must know the types of all variables at compile time.<br />
The compiler can usually infer what type we want to use based on the value and how we use it.<br />
_ rustbook</p>
</blockquote>
<h4 id="integer-types-in-rust">Integer Types in Rust</h4>
<table>
<thead>
<tr class="header">
<th>Length</th>
<th>Signed</th>
<th>Unsigned</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>8-bit</td>
<td>i8</td>
<td>u8</td>
</tr>
<tr class="even">
<td>16-bit</td>
<td>i16</td>
<td>u16</td>
</tr>
<tr class="odd">
<td>32-bit</td>
<td>i32</td>
<td>u32</td>
</tr>
<tr class="even">
<td>64-bit</td>
<td>i64</td>
<td>u64</td>
</tr>
<tr class="odd">
<td>128-bit</td>
<td>i128</td>
<td>u128</td>
</tr>
<tr class="even">
<td>arch</td>
<td>isize</td>
<td>usize</td>
</tr>
</tbody>
</table>
<p>integers default to <a href="https://doc.rust-lang.org/std/primitive.i32.html#implementations">i32</a></p>
<blockquote>
<p>isize and usize types depend on the architecture of the computer your program is running on,<br />
which is denoted in the table as “arch”:<br />
64 bits if you’re on a 64-bit architecture and 32 bits if you’re on a 32-bit architecture.<br />
_ rustbook</p>
</blockquote>
<h5 id="integer-literals-in-rust">Integer Literals in Rust</h5>
<blockquote>
<p>You can write integer literals in any of the forms shown in Table 3-2. Note that number literals that can be multiple numeric types allow a type suffix, such as 57u8, to designate the type. Number literals can also use _ as a visual separator to make the number easier to read, such as 1_000, which will have the same value as if you had specified 1000. _ rustbook</p>
</blockquote>
<table>
<thead>
<tr class="header">
<th>Number literals</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Decimal</td>
<td>98_222</td>
</tr>
<tr class="even">
<td>Hex</td>
<td>0xff</td>
</tr>
<tr class="odd">
<td>Octal</td>
<td>0o77</td>
</tr>
<tr class="even">
<td>Binary</td>
<td>0b1111_0000</td>
</tr>
<tr class="odd">
<td>Byte (u8 only)</td>
<td>b’A’</td>
</tr>
</tbody>
</table>
<h4 id="floats">Floats</h4>
<p>Rust’s floating-point types are f32 (32 bits) and f64 (64 bits).<br />
All floating-point types are signed.</p>
<p>Floats defaults to <a href="https://doc.rust-lang.org/std/primitive.f64.html#implementations">f64</a></p>
<blockquote>
<p>The default type is f64 because on modern CPUs it’s roughly the same speed as f32 but is capable of more precision.<br />
_ rustbook</p>
</blockquote>
<div class="sourceCode" id="cb6"><pre class="sourceCode rust"><code class="sourceCode rust"><a class="sourceLine" id="cb6-1" title="1"><span class="kw">fn</span> main() <span class="op">{</span></a>
<a class="sourceLine" id="cb6-2" title="2">    <span class="kw">let</span> x = <span class="dv">42.0</span>; <span class="co">// f64</span></a>
<a class="sourceLine" id="cb6-3" title="3">    <span class="kw">let</span> y: <span class="dt">f32</span> = <span class="dv">42.0</span>; <span class="co">// f32</span></a>
<a class="sourceLine" id="cb6-4" title="4"><span class="op">}</span></a></code></pre></div>
<h4 id="basic-mathematical-operations">Basic mathematical operations</h4>
<div class="sourceCode" id="cb7"><pre class="sourceCode rust"><code class="sourceCode rust"><a class="sourceLine" id="cb7-1" title="1"><span class="kw">fn</span> main() <span class="op">{</span></a>
<a class="sourceLine" id="cb7-2" title="2">    <span class="co">// addition</span></a>
<a class="sourceLine" id="cb7-3" title="3">    <span class="kw">let</span> sum = <span class="dv">5</span> + <span class="dv">10</span>;</a>
<a class="sourceLine" id="cb7-4" title="4"></a>
<a class="sourceLine" id="cb7-5" title="5">    <span class="co">// subtraction</span></a>
<a class="sourceLine" id="cb7-6" title="6">    <span class="kw">let</span> difference = <span class="dv">95.5</span> - <span class="dv">4.3</span>;</a>
<a class="sourceLine" id="cb7-7" title="7"></a>
<a class="sourceLine" id="cb7-8" title="8">    <span class="co">// multiplication</span></a>
<a class="sourceLine" id="cb7-9" title="9">    <span class="kw">let</span> product = <span class="dv">4</span> * <span class="dv">30</span>;</a>
<a class="sourceLine" id="cb7-10" title="10"></a>
<a class="sourceLine" id="cb7-11" title="11">    <span class="co">// division</span></a>
<a class="sourceLine" id="cb7-12" title="12">    <span class="kw">let</span> quotient = <span class="dv">56.7</span> / <span class="dv">32.2</span>;</a>
<a class="sourceLine" id="cb7-13" title="13">    <span class="kw">let</span> floored = <span class="dv">2</span> / <span class="dv">3</span>; <span class="co">// Results in 0</span></a>
<a class="sourceLine" id="cb7-14" title="14"></a>
<a class="sourceLine" id="cb7-15" title="15">    <span class="co">// remainder</span></a>
<a class="sourceLine" id="cb7-16" title="16">    <span class="kw">let</span> remainder = <span class="dv">43</span> % <span class="dv">5</span>;</a>
<a class="sourceLine" id="cb7-17" title="17"><span class="op">}</span></a></code></pre></div>
<p>NOTE:<br />
The common power <code>^</code> or <code>**</code> is not used in rust.<br />
Instead the numerical type has a method for it.<br />
such as <a href="https://doc.rust-lang.org/std/primitive.f32.html#method.powi">powi</a> and <a href="https://doc.rust-lang.org/std/primitive.f32.html#method.powf">powf</a> for the <code>f32</code> type.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode rust"><code class="sourceCode rust"><a class="sourceLine" id="cb8-1" title="1"><span class="kw">let</span> x: <span class="dt">f32</span> = <span class="dv">2.0</span>; </a>
<a class="sourceLine" id="cb8-2" title="2"><span class="pp">println!</span>( x.powi(<span class="dv">2</span>) );</a>
<a class="sourceLine" id="cb8-3" title="3"><span class="pp">println!</span>( x.powf(<span class="dv">2.0</span>) );</a></code></pre></div>
<h4 id="bool">bool</h4>
<p>Booleans are one byte in size. Two possible values: <code>true</code> and <code>false</code></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode rust"><code class="sourceCode rust"><a class="sourceLine" id="cb9-1" title="1"><span class="kw">fn</span> main() <span class="op">{</span></a>
<a class="sourceLine" id="cb9-2" title="2">    <span class="kw">let</span> water_is_wet = <span class="cn">true</span>;</a>
<a class="sourceLine" id="cb9-3" title="3">    <span class="kw">let</span> fire_is_wet = <span class="cn">false</span>;</a>
<a class="sourceLine" id="cb9-4" title="4"></a>
<a class="sourceLine" id="cb9-5" title="5">    <span class="kw">let</span> f: <span class="dt">bool</span> = <span class="cn">false</span>; <span class="co">// with explicit type annotation</span></a>
<a class="sourceLine" id="cb9-6" title="6"><span class="op">}</span></a></code></pre></div>
<h4 id="tuple-and-array-types">Tuple and Array Types</h4>
<h5 id="the-tuple-type">The Tuple Type</h5>
<p>A tuple is a general way of grouping together a number of values with a variety of types into one compound type. Tuples have a fixed length: once declared, they cannot grow or shrink in size.<br />
_ rustbook</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode rust"><code class="sourceCode rust"><a class="sourceLine" id="cb10-1" title="1"><span class="kw">let</span> tup: (<span class="dt">i32</span>, <span class="dt">f64</span>, <span class="dt">u8</span>) = (<span class="dv">500</span>, <span class="dv">6.4</span>, <span class="dv">1</span>); <span class="co">// mixed datatype</span></a>
<a class="sourceLine" id="cb10-2" title="2"></a>
<a class="sourceLine" id="cb10-3" title="3"><span class="kw">let</span> middle = tup.<span class="dv">1</span> <span class="co">// starts at index 0</span></a>
<a class="sourceLine" id="cb10-4" title="4"><span class="pp">println!</span>(middle); <span class="co">// 6.4</span></a>
<a class="sourceLine" id="cb10-5" title="5"></a>
<a class="sourceLine" id="cb10-6" title="6"><span class="kw">let</span> (x, y, z) = tup; <span class="co">// unpack</span></a>
<a class="sourceLine" id="cb10-7" title="7"><span class="pp">println!</span>(<span class="st">&quot;The value of y is: {}&quot;</span>, y);</a></code></pre></div>
<h5 id="array">Array</h5>
<blockquote>
<p>The Array Type</p>
</blockquote>
<p>Every element of an array must have the same type.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode rust"><code class="sourceCode rust"><a class="sourceLine" id="cb11-1" title="1"><span class="kw">let</span> my_array = <span class="op">[</span><span class="dv">0.07</span>, <span class="dv">1.2</span>, <span class="dv">2.0</span>, <span class="dv">3.1415</span>, <span class="dv">4.2</span><span class="op">]</span>;</a></code></pre></div>
<p>Arrays in Rust have a fixed length.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode rust"><code class="sourceCode rust"><a class="sourceLine" id="cb12-1" title="1"><span class="kw">let</span> a: <span class="op">[</span><span class="dt">i32</span>; <span class="dv">5</span><span class="op">]</span>; <span class="co">// type and size of the array</span></a>
<a class="sourceLine" id="cb12-2" title="2">a = <span class="op">[</span><span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span><span class="op">]</span>;</a></code></pre></div>
<p>We can initialize an array to contain the same value for each element</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode rust"><code class="sourceCode rust"><a class="sourceLine" id="cb13-1" title="1"><span class="kw">let</span> five_ones = <span class="op">[</span><span class="dv">1</span>; <span class="dv">5</span><span class="op">]</span>; <span class="co">// [1, 1, 1, 1, 1]</span></a></code></pre></div>
<p>You can access elements of an array using indexing</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode rust"><code class="sourceCode rust"><a class="sourceLine" id="cb14-1" title="1"><span class="kw">let</span> a = <span class="op">[</span><span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span><span class="op">]</span>;</a>
<a class="sourceLine" id="cb14-2" title="2"><span class="kw">let</span> first = a<span class="op">[</span><span class="dv">0</span><span class="op">]</span>; <span class="co">// 1</span></a>
<a class="sourceLine" id="cb14-3" title="3"><span class="kw">let</span> second = a<span class="op">[</span><span class="dv">1</span><span class="op">]</span>; <span class="co">// 2</span></a></code></pre></div>
<h3 id="variables-are-immutable-by-default-mutable-explicitly">Variables are immutable by default, mutable explicitly</h3>
<blockquote>
<p>When a variable is immutable, once a value is bound to a name, you can’t change that value.<br />
_ rustbook</p>
</blockquote>
<h4 id="mut-keyword"><code>mut</code> keyword</h4>
<p>You can make them mutable by adding mut in front of the variable name. Adding mut also conveys intent to future readers of the code by indicating</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode rust"><code class="sourceCode rust"><a class="sourceLine" id="cb15-1" title="1"><span class="kw">let</span> var01;</a>
<a class="sourceLine" id="cb15-2" title="2"><span class="kw">let</span> <span class="kw">mut</span> var02;</a></code></pre></div>
<p>Once we bind a value to var01 or var02 they will acquire a type and a value.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode rust"><code class="sourceCode rust"><a class="sourceLine" id="cb16-1" title="1">var01 = <span class="dv">12</span>;</a>
<a class="sourceLine" id="cb16-2" title="2">var02 = <span class="dv">41</span>;</a></code></pre></div>
<p>However var01 is immutable whereas var02 can be reassigned a value … <strong>of the same type</strong>.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode rust"><code class="sourceCode rust"><a class="sourceLine" id="cb17-1" title="1"><span class="co">// var01 = 42;  ERROR var01 immutable</span></a>
<a class="sourceLine" id="cb17-2" title="2">var02 = var01 + <span class="dv">1</span>; <span class="co">// Ok</span></a>
<a class="sourceLine" id="cb17-3" title="3"><span class="pp">println!</span>(var02); <span class="co">// 42</span></a></code></pre></div>
<p>We can declare and define our viriable at the same time</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode rust"><code class="sourceCode rust"><a class="sourceLine" id="cb18-1" title="1"><span class="kw">let</span> var01 = <span class="dv">12</span>;</a>
<a class="sourceLine" id="cb18-2" title="2"><span class="kw">let</span> <span class="kw">mut</span> var02 = <span class="dv">41</span>;</a></code></pre></div>
<p>We can also explicitly annotate the type</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode rust"><code class="sourceCode rust"><a class="sourceLine" id="cb19-1" title="1"><span class="kw">let</span> ascii: <span class="dt">u8</span> = <span class="dv">255</span>;</a>
<a class="sourceLine" id="cb19-2" title="2"><span class="kw">let</span> <span class="kw">mut</span> var02: <span class="dt">i64</span> = <span class="dv">41</span>; <span class="co">// default would be i32 so we have to be explicit if we don&#39;t  want i32</span></a></code></pre></div>
<h3 id="functions-in-rust"><a href="https://doc.rust-lang.org/stable/book/ch03-03-how-functions-work.html">Functions in Rust</a></h3>
<p>The <code>fn</code> keyword is used to declare new functions.</p>
<blockquote>
<p>Rust code uses snake case as the conventional style for function and variable names, in which all letters are lowercase and underscores separate words.<br />
_ rustbook</p>
</blockquote>
<div class="sourceCode" id="cb20"><pre class="sourceCode rust"><code class="sourceCode rust"><a class="sourceLine" id="cb20-1" title="1"><span class="co">// program entry function is main</span></a>
<a class="sourceLine" id="cb20-2" title="2"><span class="kw">fn</span> main() <span class="op">{</span></a>
<a class="sourceLine" id="cb20-3" title="3">    <span class="pp">println!</span>(<span class="st">&quot;Hello, world!&quot;</span>);</a>
<a class="sourceLine" id="cb20-4" title="4"></a>
<a class="sourceLine" id="cb20-5" title="5">    another_function(); <span class="co">//user defined function called (used) here</span></a>
<a class="sourceLine" id="cb20-6" title="6"><span class="op">}</span></a>
<a class="sourceLine" id="cb20-7" title="7"></a>
<a class="sourceLine" id="cb20-8" title="8"><span class="co">// user defined function declared and defined here</span></a>
<a class="sourceLine" id="cb20-9" title="9"><span class="kw">fn</span> another_function() <span class="op">{</span></a>
<a class="sourceLine" id="cb20-10" title="10">    <span class="pp">println!</span>(<span class="st">&quot;Another function.&quot;</span>);</a>
<a class="sourceLine" id="cb20-11" title="11"><span class="op">}</span></a></code></pre></div>
<h4 id="function-parameters-and-call-arguments">Function parameters and call arguments</h4>
<blockquote>
<p>We can define functions to have parameters, which are special variables that are part of a function’s signature. When a function has parameters, you can provide it with concrete values for those parameters. Technically, the concrete values are called arguments, but in casual conversation, people tend to use the words parameter and argument interchangeably for either the variables in a function’s definition or the concrete values passed in when you call a function.<br />
_ rustbook</p>
</blockquote>
<div class="sourceCode" id="cb21"><pre class="sourceCode rust"><code class="sourceCode rust"><a class="sourceLine" id="cb21-1" title="1"><span class="kw">fn</span> main() <span class="op">{</span></a>
<a class="sourceLine" id="cb21-2" title="2">    <span class="kw">let</span> x = <span class="dv">20</span>;</a>
<a class="sourceLine" id="cb21-3" title="3">    <span class="kw">let</span> y = <span class="dv">1</span>;</a>
<a class="sourceLine" id="cb21-4" title="4">    <span class="kw">let</span> answer = double_me(x) + double_me(y);</a>
<a class="sourceLine" id="cb21-5" title="5">    </a>
<a class="sourceLine" id="cb21-6" title="6">    <span class="pp">println!</span>(<span class="st">&quot;{} is the answer&quot;</span>, answer);</a>
<a class="sourceLine" id="cb21-7" title="7"><span class="op">}</span></a>
<a class="sourceLine" id="cb21-8" title="8"></a>
<a class="sourceLine" id="cb21-9" title="9"><span class="kw">fn</span> double_me(a: <span class="dt">i32</span>) -&gt; <span class="dt">i32</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb21-10" title="10">    <span class="kw">let</span> x = a;</a>
<a class="sourceLine" id="cb21-11" title="11"></a>
<a class="sourceLine" id="cb21-12" title="12">    x*<span class="dv">2</span>  <span class="co">// last line without `;` same as `return x*2;`</span></a>
<a class="sourceLine" id="cb21-13" title="13"><span class="op">}</span></a></code></pre></div>
<p>let’s make a better usage of this function and also remove unnecessary bindings inside the fuction</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode rust"><code class="sourceCode rust"><a class="sourceLine" id="cb22-1" title="1"><span class="kw">fn</span> main() <span class="op">{</span></a>
<a class="sourceLine" id="cb22-2" title="2">    <span class="kw">let</span> x = <span class="dv">20</span>;</a>
<a class="sourceLine" id="cb22-3" title="3">    <span class="kw">let</span> y = <span class="dv">1</span>;</a>
<a class="sourceLine" id="cb22-4" title="4">    <span class="kw">let</span> answer = double_me(x + y);</a>
<a class="sourceLine" id="cb22-5" title="5">    </a>
<a class="sourceLine" id="cb22-6" title="6">    <span class="pp">println!</span>(<span class="st">&quot;{} is the answer&quot;</span>, answer);</a>
<a class="sourceLine" id="cb22-7" title="7"><span class="op">}</span></a>
<a class="sourceLine" id="cb22-8" title="8"></a>
<a class="sourceLine" id="cb22-9" title="9"><span class="kw">fn</span> double_me(a: <span class="dt">i32</span>) -&gt; <span class="dt">i32</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb22-10" title="10"></a>
<a class="sourceLine" id="cb22-11" title="11">    a*<span class="dv">2</span></a>
<a class="sourceLine" id="cb22-12" title="12"><span class="op">}</span></a></code></pre></div>
<p>Lets include an add function</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode rust"><code class="sourceCode rust"><a class="sourceLine" id="cb23-1" title="1"><span class="kw">fn</span> main() <span class="op">{</span></a>
<a class="sourceLine" id="cb23-2" title="2">    <span class="kw">let</span> x = <span class="dv">20</span>;</a>
<a class="sourceLine" id="cb23-3" title="3">    <span class="kw">let</span> y = <span class="dv">1</span>;</a>
<a class="sourceLine" id="cb23-4" title="4">    <span class="kw">let</span> answer = add_me(double_me(x),  double_me(y));</a>
<a class="sourceLine" id="cb23-5" title="5">    </a>
<a class="sourceLine" id="cb23-6" title="6">    <span class="pp">println!</span>(<span class="st">&quot;{} is the answer&quot;</span>, answer);</a>
<a class="sourceLine" id="cb23-7" title="7"><span class="op">}</span></a>
<a class="sourceLine" id="cb23-8" title="8"></a>
<a class="sourceLine" id="cb23-9" title="9"><span class="kw">fn</span>  add_me(x: <span class="dt">i32</span>, y: <span class="dt">i32</span>) -&gt; <span class="dt">i32</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb23-10" title="10"></a>
<a class="sourceLine" id="cb23-11" title="11">    x+y</a>
<a class="sourceLine" id="cb23-12" title="12"><span class="op">}</span></a>
<a class="sourceLine" id="cb23-13" title="13"></a>
<a class="sourceLine" id="cb23-14" title="14"><span class="kw">fn</span> double_me(a: <span class="dt">i32</span>) -&gt; <span class="dt">i32</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb23-15" title="15"></a>
<a class="sourceLine" id="cb23-16" title="16">    a*<span class="dv">2</span></a>
<a class="sourceLine" id="cb23-17" title="17"><span class="op">}</span></a></code></pre></div>
<h2 id="a-little-about-computer-memory-stack-and-heap">A little about Computer memory, stack and heap</h2>
<h3 id="the-stack"><a href="https://computersciencewiki.org/index.php/Stack">The Stack</a></h3>
<h3 id="stack-and-heap-memory"><a href="https://courses.grainger.illinois.edu/cs225/fa2021/resources/stack-heap/">Stack and Heap Memory</a></h3>
<p><a href="http://web.mit.edu/rust-lang_v1.25/arch/amd64_ubuntu1404/share/doc/rust/html/book/first-edition/the-stack-and-the-heap.html">source</a></p>
<h2 id="str-and-string-and-slice">str and String and Slice</h2>
<h3 id="str-allocation-on-the-stack">Str: allocation on the Stack</h3>
<h4 id="string-literal-str">string literal: <code>&amp;str</code></h4>
<div class="sourceCode" id="cb24"><pre class="sourceCode rust"><code class="sourceCode rust"><a class="sourceLine" id="cb24-1" title="1"><span class="kw">let</span> name = <span class="st">&quot;Rust&quot;</span>; <span class="co">// bind the string literal to variable `name`</span></a></code></pre></div>
<p>A string literal has type &amp;str. it is a stack allocated UTF-8 string. The size of &amp;str is fixed, meaning it cannot be resized. the representation of &amp;str is done by &amp;[u8] that points to the UTP 8 sequence</p>
<h3 id="string-allocation-on-the-heap">String: Allocation on the heap</h3>
<p>the String object is encoded in UTF 8 sequence, and a heap memory allocation is done for the String object, the data present in the string can be viewed using &amp;str.</p>
<h3 id="taking-a-peek-at-the-binary">Taking a peek at the binary</h3>
<p>Lets see what is under the hood</p>
<blockquote>
<p>vim main.rs</p>
</blockquote>
<div class="sourceCode" id="cb25"><pre class="sourceCode rust"><code class="sourceCode rust"><a class="sourceLine" id="cb25-1" title="1"><span class="co">// filename: main.rs</span></a>
<a class="sourceLine" id="cb25-2" title="2"></a>
<a class="sourceLine" id="cb25-3" title="3"><span class="kw">fn</span> main() <span class="op">{</span></a>
<a class="sourceLine" id="cb25-4" title="4">    <span class="kw">let</span> x = <span class="dv">20</span>;</a>
<a class="sourceLine" id="cb25-5" title="5">    <span class="kw">let</span> y = <span class="dv">1</span>;</a>
<a class="sourceLine" id="cb25-6" title="6">    <span class="kw">let</span> answer = add_me(double_me(x),  double_me(y));</a>
<a class="sourceLine" id="cb25-7" title="7">    </a>
<a class="sourceLine" id="cb25-8" title="8">    <span class="pp">println!</span>(<span class="st">&quot;{} is the answer&quot;</span>, answer);</a>
<a class="sourceLine" id="cb25-9" title="9"><span class="op">}</span></a>
<a class="sourceLine" id="cb25-10" title="10"></a>
<a class="sourceLine" id="cb25-11" title="11"><span class="kw">fn</span>  add_me(x: <span class="dt">i32</span>, y: <span class="dt">i32</span>) -&gt; <span class="dt">i32</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb25-12" title="12"></a>
<a class="sourceLine" id="cb25-13" title="13">    x+y</a>
<a class="sourceLine" id="cb25-14" title="14"><span class="op">}</span></a>
<a class="sourceLine" id="cb25-15" title="15"></a>
<a class="sourceLine" id="cb25-16" title="16"><span class="kw">fn</span> double_me(a: <span class="dt">i32</span>) -&gt; <span class="dt">i32</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb25-17" title="17"></a>
<a class="sourceLine" id="cb25-18" title="18">    a*<span class="dv">2</span></a>
<a class="sourceLine" id="cb25-19" title="19"><span class="op">}</span></a></code></pre></div>
<blockquote>
<p>rustc main.rs xxd -g1 main</p>
</blockquote>
<pre><code></code></pre>
</body>
</html>
